---
title: 智慧分析平台
tags:
  - 技术积累
  - 前端
  - 项目总结
categories:
  - 技术积累
  - 前端
  - 项目总结
toc: true
abbrlink: 1425c46c
date: 2025-02-06 10:22:39
---

![首屏图](https://s21.ax1x.com/2025/02/06/pEeB0p9.png)

<!-- more -->

## 项目简介

中诚信国际智慧分析平台专为金融机构、企业和投资者设计，提供深度数据挖掘和专业信用评级服务，助力复杂金融环境下的明智决策。平台涵盖企业融资、政府公共融资、金融机构、结构融资、非标产品、主权及负债评级等领域，集成首页、主体、区域和工具四大核心功能。

### 主体

主体模块深入分析企业信用状况，包括概览、股权结构、信用评级、经营和财务表现等。

![主体详情财务表现财务概览金额单位切换](https://s21.ax1x.com/2025/02/06/pEeB70f.png)

### 区域

区域模块分析各地行业分布、经济和财政状况，揭示主体情况、政府和环境评分及研究报告。

![区域首页](https://s21.ax1x.com/2025/02/06/pEeBUkF.png)

![区域详情企业分布](https://s21.ax1x.com/2025/02/06/pEeB0p9.png)

![区域详情研究报告](https://s21.ax1x.com/2025/02/06/pEeBD61.png)

### 工具

工具模块包含五个子功能：主体信用评分、政府信用评分、区域环境评分、同行业对比和区域数据对比，支持多角度数据分析和精准决策。

![主体信用评分对比数据上限](https://s21.ax1x.com/2025/02/06/pEeB60K.png)

![主体信用评分对比空数据](https://s21.ax1x.com/2025/02/06/pEeB2kD.png)

![主体信用评分对比添加对比例弹框评分版本筛选](https://s21.ax1x.com/2025/02/06/pEeBRte.png)

![主体信用评分对比切换模型确认提示](https://s21.ax1x.com/2025/02/06/pEeBcTO.png)

## 技术亮点

### 主体详情

![主体详情财务表现财务概览金额单位切换](https://s21.ax1x.com/2025/02/06/pEeB70f.png)

- 封装筛选条件组件方便在系统中复用
  - 封装的筛选组件使用单例模式，保证相同类型组件的唯一性
  - 使用缓存技术，将不常变更的字典值保存起来，并添加失效时间，减少无效请求的同时，保证数据的时效性
- 根据权限判断内外部数据可否调用
- 根据当前登录人权限控制 tab 分页内容及 code
  并选中默认页签
- 内外部数据可查看的 tab 页签不一致，添加切换时默认跳转页签
- 切换金额单位、隐藏空行控制对比表格中数据的展示形式
- 同行业对比跳转传参渲染默认值
- 复用对比列表格组件，并扩展财务表现页面的展示样式

### 区域首页

![区域首页](https://s21.ax1x.com/2025/02/06/pEeBUkF.png)

- 解决各图表组件在 KeepAlive 挂起后图表渲染异常
- 地图组件
  - 不同行政级别的区域展示不同的区域信息
  - 地图组件的下钻上探逻辑
  - 地图组件的南海区域补齐
  - 切换地图区域时的联动同页面另两个区域筛选框
- 柱线图组件
  - 柱线图数据特殊处理
    - 通过数据最大值最小值动态计算数据间隔
    - 动态计算坐标轴文本宽度
  - 定制化柱线图图例展示效果问题
- 区域列表
  - 表头动态生成并分组
  - 默认按动态生成的首列指标排序
    - 切换指标时需要重置排序
    - 初始化、编辑操作时保持请求携带排序参数
  - 不同行政级别的区域列表展示不同的页签
  - 区域名称列添加超长文本缩略并添加 tooltip
- 选择展示指标
  - 动态渲染当前用户已勾选的指标
  - 取消、重置指标逻辑

### 区域详情

#### 企业分布

![区域详情企业分布](https://s21.ax1x.com/2025/02/06/pEeB0p9.png)

- 解决各图表组件在 KeepAlive 挂起后图表渲染异常
- 区域基本信息
  - 封装 tag 标签组件
- 二级菜单
  - 封装组件并添加权限控制交互
- 矩形树图
  - 矩形树图组件的下钻上探逻辑
  - 切换数据按发行规模还是发行家数排布
- 主体列表
  - 封装筛选组件方便在系统中复用
- 柱线图组件
  - 数据特殊处理，到期金额在图表中展示为负值，在 tooltip 中展示为原值

#### 研究报告

![区域详情研究报告](https://s21.ax1x.com/2025/02/06/pEeBD61.png)

- 封装报卡片组件，并添加交互效果
- 下载报告

### 对比工具

![主体信用评分对比数据上限](https://s21.ax1x.com/2025/02/06/pEeB60K.png)

![主体信用评分对比空数据](https://s21.ax1x.com/2025/02/06/pEeB2kD.png)

![主体信用评分对比添加对比例弹框评分版本筛选](https://s21.ax1x.com/2025/02/06/pEeBRte.png)

![主体信用评分对比切换模型确认提示](https://s21.ax1x.com/2025/02/06/pEeBcTO.png)

- 主体信用评分对比
  - 封装对比列组件
    - 对比列样式根据数据返回渲染
      - 文字加粗
      - 文字标蓝
      - 背景置灰
      - 背景置蓝
    - 添加高亮不同项逻辑
    - 添加隐藏空行逻辑
    - 添加金额单位切换逻辑
    - 添加展开至逻辑
    - 封装头部展示数据接收参数
      - 根据参数控制展示内容、字段、是否特殊处理
    - 根据配置控制是否展示 tooltip
    - 根据配置控制是否展示 hover
    - 添加空数据的占位列
    - 固定首行、首列
    - 封装数据处理公共方法
      - 字符串类型
        - 可转化为数字类型，处理千分位符
        - 不可转换数字类型，保持数据原样
      - 数字类型处理千分位符
      - null、undefined 显示--
  - 封装树形表格组件
    - 自定义展开收起 icon
      - 一级 icon 为双箭头
      - 其他级 icon 为加减号
  - 添加、编辑数据处理逻辑
    - 数据列唯一性，使用 Set
    - 控制数据列添加上限
    - 封装筛选组件方便在系统中复用
    - 联动控制，根据模型名称和版本控制主体下拉数据
    - 联动控制，根据主体控制评分年份及版本下拉数据
  - 多表头对比方案实现
    - 通过表格的列合并来实现同一表格中组合不同列数
      - 基础多列为 6 列，因为需求存在 1、2、3 列三种情况，取最小公倍数 6。实现在不同情况下的多列均匀分割。
  - 模型名称和版本
    - 有数据时切换需提示会清空
    - 点击取消则恢复原模型名称和版本
  - 导出
    - 编写 api 公共方法，判断若为导出请求则创建文件流及 dom 元素，并下载文件
- 政府信用评分对比
  - 添加、编辑数据处理逻辑
    - 联动控制，根据区域控制评分年份及版本下拉数据
  - 其他同主体信用评分对比
- 区域环境评分对比
  - 添加、编辑数据处理逻辑
    - 联动控制，根据区域控制评分年份及版本下拉数据
  - 其他同主体信用评分对比
- 同行业对比
  - 添加、编辑数据处理逻辑
    - 联动控制，根据中诚信行业控制主体下拉数据
    - 联动控制，根据其他选项控制财报下拉数据
  - 其他同主体信用评分对比
- 区域数据对比
  - 封装对比列组件
    - 根据配置控制是否展示图表弹框
      - 通过数据最大值最小值动态计算数据间隔
      - 动态计算坐标轴文本宽度
  - 添加、编辑数据处理逻辑
    - 联动控制，根据区域类别控制区域下拉数据
      - 封装高阶组件，在不同区域类别的时候渲染不同的筛选组件
  - 其他同主体信用评分对比
