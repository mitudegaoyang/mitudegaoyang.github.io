---
title: 白帽子讲Web安全
date: 2017-11-06 18:01:47
tags: 读书会
---

WEB安全

<!-- more -->

## 第一章 我的安全世界观

### 1.5 安全三要素

- 机密性：要求保护数据内容不能泄露，加密是常见手段
- 完整性：要求保护数据是完整的、未被篡改的。常见的保证一致性手段是数字签名
- 可用性：要求保护资源是“随需而得”的

### 1.6 如何实施安全评估

- 资产等级划分
- 威胁分析
- 风险分析
- 确认解决方案

![简单网站信任模型](https://s1.ax1x.com/2020/07/17/UyFG4g.jpg)

#### 1.6.2 威胁分析

> STRIDE模型

| 威胁                           | 定义           | 对应的安全属性  |
| ------------------------------|---------------| --------------|
| Spoofing(伪装)                 | 冒充他人身份    | 认证           |
| Tampering(篡改)                | 修改数据或代码   | 完整性        |
| Repudiation(抵赖)              | 否认做过的事情   | 不可抵赖性     |
| InformationDisclosure(信息泄露) | 机密信息泄露     | 机密性        |
| Denial of Service(拒绝服务)     | 拒绝服务        | 可用性         |
| Elevation of Privilege(提升权限)| 未经授权获得许可  | 授权          |

#### 1.6.3 风险分析

> DREAD模型

| 等级              | 高(3)                                    | 中(2)      | 低(1)       |
| -----------------|------------------------------------------| -----------| ------------|
| Damage Potential | 获取完全验证权限: 执行管理员操作: 非法上传文件 | 泄露敏感信息 | 泄露其他信息 |
| Reproducibility | 攻击者可以随意再次攻击 | 攻击者可以重复攻击 但有时间限制| 攻击者难以重复攻击过程 |
| Exploitability   | 初学者在短期内能掌握攻击方法 | 熟练地攻击者才能完成此次攻击 | 漏洞利用条件非常苛刻 |
| Affeeted users   | 所有用户 默认配置 关键用户 | 部分用户 非默认配置 | 极少数用户 匿名用户 |
| Discoverability  | 漏洞明显 攻击条件很容易获得 | 有私有区域 部分人能看到 需要深入挖掘漏洞 | 发现该漏洞极其困难 |

高危:12~15 中危:8~11 低危:0~7

#### 1.6.4 设计安全方案

- 能够有效解决问题
- 用户体验好
- 高性能
- 低耦合
- 易于扩展与升级

### 1.7 白帽子兵法

#### 1.7.1 Secure By Default原则

- 黑名单、白名单:推荐多使用白名单 避免因黑名单考虑不周导致的漏洞
- 最小权限原则:减少过度授权
- 纵深防御原则:1.不同层面、方面实施安全方案 2.在正确的地方做正确的事——必须把防御方案放到最合适的地方去解决

![XSS防御技术的发展过程](https://s1.ax1x.com/2020/07/17/UyF8US.png)

- 数据与代码分离原则:对数据处理过程中 针对 `<`、`>`等符号做处理
- 不可预测性原则:在敏感数据上使用token 通过加密算法、随机数算法、哈希算法来实现

### 1.8 小结

安全是一门朴素的学问 也是一种平衡的艺术

## 第二章 浏览器安全

### 2.1 同源策略

浏览器的同源策略 限制了来自不同源的‘document’脚本 对当前的‘doucument’读取或设置某些属性

## 第三章 跨站脚本攻击(XSS)

### 3.1 XSS简介

XSS攻击 通常指黑客通过“HTML注入”篡改网页 插入恶意脚本 从而在用户浏览网页时 控制用户浏览器的一种攻击
