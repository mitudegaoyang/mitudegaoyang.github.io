---
title: 最长回文子串
abbrlink: 13c31df7
date: 2020-09-09 19:12:42
tags:
  - 技术积累
  - LeetCode
  - 最长回文子串
  - 中等
  - 每日一练
categories:
  - 技术积累
  - LeetCode
---

![首屏图](https://s1.ax1x.com/2020/09/09/w3v1nH.jpg)

<!-- more -->

## LeetCode 题目总结 - 最长回文子串

### 题目

给定一个字符串`s`，找到`s`中最长的回文子串。你可以假设`s`的最大长度为 1000。

### 示例

#### 示例1

```text
输入: "babad"
输出: "bab"
注意: "aba" 也是一个有效答案。
```

#### 示例2

```text
输入: "cbbd"
输出: "bb"
```

### 解题

#### 解法一: 暴力枚举法

* 时间复杂度O(n<sup>3</sup>)
* 空间复杂度O(1)

```js
/**
 * @param {string} s
 * @return {string}
 */
var longestPalindrome = function(s) {
    function isPalindrome(str) {
        var len  = str.length
        var middle = parseInt(len/2)
        for(var i = 0;i<middle;i++){
            if(str[i]!=str[len-i-1]){
                return false
            }
        }
        return true
    }
    var ans = '';
    var max = 0;
    var len = s.length
    for(var i = 0;i<len;i++){
        for(var r = i+1;r<=len;r++){
            var tmpStr = s.substring(i,r)
            if(isPalindrome(tmpStr) && tmpStr.length > max){
                ans = s.substring(i,r)
                max = tmpStr.length;
            }
        }
    }
    return ans;
}
```

#### 解法二: 动态规划 - A

##### 代码

```js
/**
 * @param {string} s
 * @return {string}
 */
var longestPalindrome = function(s) {
    if(!s || s.length < 2){
        return s;
    }
    var s_f = s.split('').reverse().join('');   //字符串调转 split字符串转数组 reverse数组顺序调转 join数组拼接字符串
    var resultStr = s[0];
    var maxLen = 1;
    var tmpLen = 1;
    var maxStrIndex = 0;
    var len = s.length; //有无实际含义
    //判断字符串是否回文
    function isPalinerome(i,r){
        if(len - i - 1 == r -tmpLen + 1){
            return true
        }
        return false;
    }
    //初始化二维数组
    var len = s.length;
    var arr = new Array(len);
    for(var i = 0;i<len;i++){
        arr[i] = [];
        for(var r = 0;r<len;r++){
            arr[i][r] = 0
        }
    }
    for(var i = 0;i<len;i++){
        for(var r=0;r<len;r++){
            if(s[i] == s_f[r]){
                if(i==0 || r==0){
                    arr[i][r] = 1
                }else{
                    arr[i][r] = arr[i-1][r-1] + 1
                    tmpLen = arr[i][r]
                }
                if(tmpLen > maxLen && isPalinerome(i,r)){
                    maxStrIndex = r;
                    maxLen = tmpLen;
                    resultStr =  s.substring(i-tmpLen+1,i+1);
                }
            }
        }
    }
    return resultStr;
};
```

#### 解法二: 动态规划 - B

![图1](https://s1.ax1x.com/2020/09/09/w8iiwD.png)
![图2](https://s1.ax1x.com/2020/09/09/w8iFTe.png)
![图3](https://s1.ax1x.com/2020/09/09/w8iPeO.png)
![图4](https://s1.ax1x.com/2020/09/09/w8iAFH.png)
![图5](https://s1.ax1x.com/2020/09/09/w8i9OK.png)
![图6](https://s1.ax1x.com/2020/09/09/w8iEYd.png)
![图7](https://s1.ax1x.com/2020/09/09/w8iVfA.png)

##### 思路

* 标签：`动态规划`：通过子问题答案来解决大问题答案；子问题都需要是离散且不依赖其他子问题（详可见 《算法图解》 第九章「动态规划」）；
* 回文字符串是正读和反读都一样，所以如果将回文字符串反转，那么字符串和反转字符串肯定完全一样。
* 如果字符串不是回文字符串，那么字符串和反转字符串如果有相同的部分，即公共子串，那么最长的公共子串是不是一定就是最长回文子串呢？关于如何得到最长公共子串，看下面[这里](如何获取最长公共子串)
* 我们发现，最长公共子串不一定就是最长回文子串，比如字符串 S 为 aacdecaa，反转字符串为 aacedcaa，最长公共子串有 aac 和 caa，都不是回文子串，更不是最长回文子串。所以需要进一步判断最长公共子串是否是回文子串。
* 时间复杂度O(n<sup>2</sup>)——两层遍历
* 空间复杂度O(n<sup>2</sup>)——二维数组

**代码**

```js
/**
 * @param {string} s
 * @return {string}
 */

```

#### 解法三: 动态规划 - C

#### 解法四: 中心扩展算法

#### 解法五: Manacher 算法

## 参考资料

* [最长回文子串](https://leetcode-cn.com/problems/longest-palindromic-substring/)
* [最长回文子串Alexer-660解题思路](https://leetcode-cn.com/problems/longest-palindromic-substring/solution/5-zui-chang-hui-wen-zi-chuan-by-alexer-660/)
* [画解 LeetCode：5. 最长回文子串](https://leetcode-cn.com/problems/longest-palindromic-substring/solution/hua-jie-suan-fa-5-zui-chang-hui-wen-zi-chuan-by-de/)
